/*!  版权所有，翻版算球 */
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/entry.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/core/Po.js":
/*!************************!*\
  !*** ./src/core/Po.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = __webpack_require__(/*! ../util/util */ \"./src/util/util.js\"),\n    deepClone = _require.deepClone,\n    extend = _require.extend,\n    GetAttrElement = _require.GetAttrElement;\n\nvar TplEng = __webpack_require__(/*! ./template */ \"./src/core/template.js\");\nvar Jsvm = __webpack_require__(/*! ../util/JsVm */ \"./src/util/JsVm.js\");\n\n// const debugObj = require(\"../util/debug\")\n\nvar replaceSubNode = function replaceSubNode(html, subPos, supper) {\n    var resloveData = function resloveData(attrs) {\n        var res = {};\n        if (attrs == undefined || attrs.length == 0) return res;\n        var arr = attrs.split(\" \");\n        var re = new RegExp(\"(.+?)=([\\\"'])(.+?)\\\\2\");\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var attr = _step.value;\n\n                if (attr.trim() == \"\") continue;\n                var reg$arr = re.exec(attr);\n                res[reg$arr[1]] = reg$arr[3];\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return res;\n    };\n    var reslove = html;\n    for (var subName in subPos) {\n        var sub = subPos[subName];\n        // <(rLink)( .+?)>(.+)?<\\/\\1>\n        var re = new RegExp(\"<(\" + subName + \")(( [^<> ]*)*)>([^<>]*)<\\/\" + subName + \">\", \"gi\");\n        var subArr = html.match(re);\n        if (!subArr) continue;\n        for (var _si in subArr) {\n            var _s = subArr[_si];\n            re = new RegExp(\"<(\" + subName + \")(( [^<> ]*)*)>([^<>]*)<\\/\" + subName + \">\", \"gi\");\n            var reg$arr = re.exec(_s);\n            var tempData = resloveData(reg$arr[2]);\n            tempData._content = reg$arr[4];\n            if (supper) Object.assign(tempData, supper);\n            var temp = sub.assemble(tempData);\n            reslove = reslove.replace(_s, temp);\n        }\n    }\n    return reslove;\n};\n\nvar Po = function Po(template, data, watch, evManger, subPos, mixwith) {\n    var _this = this;\n\n    if (mixwith) {\n        extend(data, deepClone(mixwith.data));\n    }\n    // tpl\n\n    var _init_DateValueProperty = function _init_DateValueProperty(data, _ev) {\n        var _loop = function _loop(variable) {\n            var setVal = data[variable];\n            var option = {};\n            if (typeof setVal === \"function\") {\n                data[variable] = function () {\n                    var _resTemp = setVal.apply(data, arguments);\n                    _ev.emit(\"_rerender_\");\n                    return _resTemp;\n                };\n                return \"continue\";\n                // option.get = ()=>{\n                //     return setVal(data)\n                // }\n            } else {\n                option.get = function () {\n                    return _this[variable];\n                };\n            }\n            option.set = function (newVal) {\n                _this[variable] = newVal;\n                _ev.emit(\"SET_\" + variable, newVal);\n                _ev.emit(\"_rerender_\");\n            };\n            Object.defineProperty(data, variable, option);\n            data[variable] = setVal;\n        };\n\n        for (var variable in data) {\n            var _ret = _loop(variable);\n\n            if (_ret === \"continue\") continue;\n        }\n        return data;\n    };\n    // data\n    // let dbg = new debugObj(\"_init_DateValueProperty\")\n    this.data = _init_DateValueProperty(data, evManger);\n    // dbg.log()\n    //\n    // subPo\n    this.tpl = new TplEng(template, \"{{\", \"}}\"); //new Template(template,subPos);\n    var hitchOnEv = function hitchOnEv(_evManger, _on) {\n        for (var event_ in _on) {\n            if (_on.hasOwnProperty(event_)) {\n                (function () {\n                    var thisOption = _on[event_],\n                        evName = thisOption.eventName,\n                        evId = thisOption.id,\n                        coStr = thisOption.codeStr,\n                        that_data = _this.data;\n                    _evManger.on(evName, function (e) {\n                        if (e.target.getAttribute(\"data-event-id\") === evId) {\n                            var dataobj = Object.assign(that_data, {\n                                e: e,\n                                self: e.target\n                            });\n                            // require(\"../util/JsVm.js\").micVm(coStr, that_data);\n                            Jsvm.safe(coStr, that_data);\n                        }\n                    });\n                })();\n            }\n        }\n        // on_ev end\n    };\n    this._ev = this.tpl.tpl_events;\n    hitchOnEv(evManger, this._ev.on);\n\n    var hitchWath = function hitchWath(watch, _ev) {\n        var _loop2 = function _loop2(variable) {\n            if (typeof watch[variable] === \"function\") {\n                _ev.on(\"SET_\" + variable, function (newVal) {\n                    watch[variable](newVal);\n                });\n            }\n        };\n\n        for (var variable in watch) {\n            _loop2(variable);\n        }\n    };\n    if (watch) hitchWath(watch, evManger);\n    this.assemble = function (data) {\n        if (data) {\n            Object.assign(this.data, data);\n        }\n        var res = this.tpl.joint(this.data);\n        if (subPos) {\n            return replaceSubNode(res, subPos, this.data);\n        } else {\n            return res;\n        }\n    };\n    var hitchBindEv = function hitchBindEv(_evManger, _bind) {\n        for (var _ev in _bind) {\n            if (_bind.hasOwnProperty(_ev)) {\n                var _ret4 = function () {\n                    var thisOption = _bind[_ev],\n                        evName = thisOption.eventName,\n                        evId = thisOption.id,\n                        valName = thisOption.codeStr,\n                        ele = GetAttrElement(\"data-event-id\", evId)[0];\n                    if (ele == undefined) return {\n                            v: void 0\n                        };\n                    ele[evName] = _this.data[valName];\n                    // init value\n                    _evManger.on(\"SET_\" + valName, function (newVal) {\n                        if (ele) {\n                            ele[evName] = newVal;\n                        }\n                    });\n                }();\n\n                if ((typeof _ret4 === \"undefined\" ? \"undefined\" : _typeof(_ret4)) === \"object\") return _ret4.v;\n            }\n        }\n    };\n    this.bind = function () {\n        if (subPos) {\n            for (var subi in subPos) {\n                subPos[subi].bind();\n            }\n        }\n        hitchBindEv(evManger, _this._ev.bind);\n    };\n};\n\nvar generateSubPo = function generateSubPo(poList, evManger) {\n    var res = {};\n    for (var poName in poList) {\n        var sub = poList[poName],\n            tplText = void 0;\n        if (sub.tpl[0] == \"#\") {\n            tplText = document.querySelector(sub.tpl).innerHTML;\n        } else {\n            tplText = sub.tpl;\n        }\n        res[poName] = new Po(tplText, deepClone(sub.data), {}, evManger);\n    }\n    return res;\n};\n\nmodule.exports = {\n    Po: Po,\n    generateSubPo: generateSubPo\n};\n\n//# sourceURL=webpack:///./src/core/Po.js?");

/***/ }),

/***/ "./src/core/Poi.js":
/*!*************************!*\
  !*** ./src/core/Poi.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar EventObj = __webpack_require__(/*! ./event */ \"./src/core/event.js\");\nvar diff = __webpack_require__(/*! ./diff */ \"./src/core/diff.js\");\n\nvar _require = __webpack_require__(/*! ./Po */ \"./src/core/Po.js\"),\n    Po = _require.Po,\n    generateSubPo = _require.generateSubPo;\n\nvar _require2 = __webpack_require__(/*! ../util/util */ \"./src/util/util.js\"),\n    domApi = _require2.domApi;\n\nvar _Poi = function _Poi(finder, template, data, watch, subPos, mixwith, mounts) {\n    var _this = this;\n\n    this.el = domApi.$(finder);\n    // on,emit\n    this.Event = new EventObj(this.el);\n    this.$on = function () {\n        this.Event.on.apply(this.Event, arguments);\n    };\n    this.$emit = function () {\n        this.Event.emit.apply(this.Event, arguments);\n    };\n    // #401 babel es5 leads to mistakes\n    var that = this;\n    this.render = function () {\n        _this.el.html(_this.Po.assemble());\n        _this.Po.bind();\n        _this.$on(\"_rerender_\", function () {\n            that.rerender();\n        });\n    };\n    this.rerenderBlock = false;\n    this.rerender = function () {\n        if (_this.rerenderBlock) return;\n        _this.rerenderBlock = true;\n        // dirty checking maybe\n        diff(_this.el, _this.Po.assemble());\n        // this.Po.bind();\n        _this.rerenderBlock = false;\n    };\n    var subPoi = subPos ? generateSubPo(subPos, this.Event) : undefined;\n    this.Po = new Po(template, data, watch, this.Event, subPoi, mixwith);\n    this.$data = this.Po.data;\n    // #402 mounted init function\n    if (mixwith && mixwith.mounts) {\n        var _loop = function _loop(key) {\n            if (key in mounts) {\n                mounts[key] = function () {\n                    mixwith.mounts[key].apply(_this);\n                    mounts[key].apply(_this);\n                };\n            } else {\n                mounts[key] = mixwith.mounts[key];\n            }\n        };\n\n        for (var key in mixwith.mounts) {\n            _loop(key);\n        }\n    }\n    if (mounts) {\n        if (mounts.init) mounts.init.apply(this.Po.data);\n    }\n    return this;\n};\n\nvar Poi = function Poi(config) {\n    var tpl_content = void 0;\n    if (config.tpl) {\n        if (config.tpl[0] == \"#\") {\n            tpl_content = document.querySelector(config.tpl).innerHTML;\n            if (tpl_content == undefined) return new Error(\"not found template element \" + config.tpl);\n        } else {\n            tpl_content = config.tpl;\n        }\n    } else {\n        if (config.el[0] == \"#\") {\n            tpl_content = document.querySelector(config.el).innerHTML;\n            if (tpl_content == undefined) return new Error(\"not found element \" + config.el);\n        } else {\n            tpl_content = tpl_content.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\");\n        }\n    }\n    var that = _Poi.apply({}, [config.el, tpl_content, config.data, config.watch, config.pos, config.mixwith, config.mounted]);\n    that.render();\n    return that;\n};\n\nmodule.exports = Poi;\n\n//# sourceURL=webpack:///./src/core/Poi.js?");

/***/ }),

/***/ "./src/core/diff.js":
/*!**************************!*\
  !*** ./src/core/diff.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _require = __webpack_require__(/*! ../util/util.js */ \"./src/util/util.js\"),\n    domApi = _require.domApi;\n\n// const debugObj = require(\"../util/debug\")\n\nvar lcsDomArr = function lcsDomArr(newDomEle, oldDomEle, targetDom) {\n    var planArr = [];\n    if (newDomEle.length == 0) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = oldDomEle[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var _d = _step.value;\n\n                planArr.push({\n                    option: \"delete\",\n                    ele: _d\n                });\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return planArr;\n    }\n    if (oldDomEle.length == 0) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = newDomEle[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var _d2 = _step2.value;\n\n                planArr.push({\n                    option: \"add\",\n                    ele: _d2,\n                    upper: targetDom\n                });\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n\n        return planArr;\n    }\n\n    if (newDomEle.length == 1 && oldDomEle.length != 1) {\n        for (var di in oldDomEle) {\n            var _d3 = oldDomEle[di];\n            if (domApi.isSame(_d3, newDomEle[0])) {\n                if (!domApi.classListDiff(_d3, newDomEle[0])) planArr.push({\n                    option: \"classChange\",\n                    ele: _d3,\n                    list: newDomEle[0].classList\n                });\n            } else {\n                planArr.push({\n                    option: \"delete\",\n                    ele: _d3\n                });\n            }\n        }\n        return planArr;\n    }\n    if (oldDomEle.length == 1 && newDomEle.length != 1) {\n        for (var _di in newDomEle) {\n            var _d4 = newDomEle[_di];\n            if (domApi.isSame(_d4, newDomEle[0])) {\n                if (!domApi.classListDiff(_d4, newDomEle[0])) planArr.push({\n                    option: \"classChange\",\n                    ele: _d4,\n                    list: newDomEle[0].classList\n                });\n            } else {\n                planArr.push({\n                    option: \"add\",\n                    before: oldDomEle[_di],\n                    after: oldDomEle[_di + 1],\n                    ele: _d4,\n                    upper: targetDom\n                });\n            }\n        }\n        return planArr;\n    }\n\n    var lcs_arr = lcsOnArr(newDomEle, oldDomEle, domApi.isSame),\n        curA = newDomEle.length - 1,\n        curB = oldDomEle.length - 1;\n\n    while (!(curA <= 0 && curB <= 0)) {\n        var lv = curB <= 0 ? 0 : lcs_arr[curA][curB - 1],\n            tv = curA <= 0 ? 0 : lcs_arr[curA - 1][curB],\n            ltv = curA <= 0 || curB <= 0 ? 0 : lcs_arr[curA - 1][curB - 1],\n            nv = lcs_arr[curA][curB];\n        // if (ta[curA]==tb[curB]) {\n        if (domApi.isSame(newDomEle[curA], oldDomEle[curB]) && curA != 0 && curB != 0) {\n            // same char\n            // console.log(curA,curB,ltv,nv,ltv+1==nv)\n            if (newDomEle[curA].classList != undefined) {\n                if (!domApi.classListDiff(newDomEle[curA], oldDomEle[curB])) planArr.push({\n                    option: \"classChange\",\n                    ele: oldDomEle[curB],\n                    list: newDomEle[curA].classList\n                });\n            }\n            // attributesDiff\n            if (newDomEle[curA].attributes != undefined) {\n                if (!domApi.attributesDiff(newDomEle[curA], oldDomEle[curB])) planArr.push({\n                    option: \"attributesChange\",\n                    ele: oldDomEle[curB],\n                    to: newDomEle[curA]\n                });\n            }\n            curA -= 1;\n            curB -= 1;\n        } else if (lv == tv) {\n            planArr.push({\n                option: \"delete\",\n                ele: oldDomEle[curB]\n            });\n            planArr.push({\n                option: \"add\",\n                before: oldDomEle[curB],\n                after: oldDomEle[curB + 1],\n                ele: newDomEle[curA],\n                upper: targetDom\n            });\n            curA = curA == 0 ? 0 : curA - 1;\n            curB = curB == 0 ? 0 : curB - 1;\n        } else if (lv > tv) {\n            // ta+1\"_\" tb+1cahr\n            planArr.push({\n                option: \"delete\",\n                ele: oldDomEle[curB]\n            });\n            curB -= 1;\n        } else {\n            // tb+1\"_\" ta+1char\n            planArr.push({\n                option: \"add\",\n                before: oldDomEle[curB],\n                after: oldDomEle[curB + 1],\n                ele: newDomEle[curA],\n                upper: targetDom\n            });\n            curA -= 1;\n        }\n    }\n    if (!domApi.isSame(newDomEle[0], oldDomEle[0])) {\n        planArr.push({\n            option: \"add\",\n            before: undefined,\n            after: oldDomEle[0],\n            ele: newDomEle[0],\n            upper: targetDom\n        });\n        if (oldDomEle[0] != undefined) {\n            planArr.push({\n                option: \"delete\",\n                ele: oldDomEle[0]\n            });\n        }\n    } else {\n        if (newDomEle[0].classList != undefined) {\n            if (!domApi.classListDiff(newDomEle[0], oldDomEle[0])) planArr.push({\n                option: \"classChange\",\n                ele: oldDomEle[0],\n                list: newDomEle[0].classList\n            });\n        }\n        if (newDomEle[0].attributes != undefined) {\n            if (!domApi.attributesDiff(newDomEle[0], oldDomEle[0])) planArr.push({\n                option: \"attributesChange\",\n                ele: oldDomEle[0],\n                to: newDomEle[0]\n            });\n        }\n    }\n    return planArr;\n};\n// #101 Time complexity: O(arr1.length * arr2.length)\nvar lcsOnArr = function lcsOnArr(arr1, arr2, compareFn) {\n    // let dbg = new debugObj(\"lcsOnArr\");\n    var lcsArr = [];\n    for (var indexA in arr1) {\n        var rowArr = [],\n            itemA = arr1[indexA];\n        for (var indexB in arr2) {\n            var itemB = arr2[indexB],\n                lv = indexB == 0 ? 0 : rowArr[indexB - 1],\n                tv = indexA == 0 ? 0 : lcsArr[indexA - 1][indexB],\n                ltv = indexB != 0 && indexA != 0 ? lcsArr[indexA - 1][indexB - 1] : 0;\n            if (compareFn(itemA, itemB)) {\n                rowArr.push(ltv + 1);\n            } else {\n                rowArr.push(lv > tv ? lv : tv);\n            }\n        }\n        lcsArr.push(rowArr);\n    }\n    // dbg.log()\n    return lcsArr;\n};\nvar lcsDomtree = function lcsDomtree(newChildren, oldTree) {\n    var isSameTree = function isSameTree(ele1, ele2) {\n        return ele1.nodeName == ele2.nodeName && ele1.id == ele2.id && ele1.className == ele2.className;\n    };\n    var Nchi = [],\n        Ochi = [],\n        planArr = [],\n        NsubTree = [],\n        OsubTree = [];\n    for (var index in newChildren) {\n        if (index == \"length\") break;\n        var child = newChildren[index];\n        if (child.nodeType == 3 && child.textContent.trim().replace(/\\n/g, \"\") == \"\") continue;\n        // if (child.childNodes.length == 0) {\n        if (child.nodeType == 3 || child.children.length == 0) {\n            Nchi.push(child);\n        } else {\n            NsubTree.push({\n                ele: child\n            });\n        }\n    }\n    for (var _index in oldTree.childNodes) {\n        if (_index == \"length\") break;\n        var _child = oldTree.childNodes[_index];\n        if (_child.nodeType == 3 && _child.textContent.trim().replace(/\\n/g, \"\") == \"\") continue;\n        // if (child.childNodes.length == 0) {\n        if (_child.nodeType == 3 || _child.children.length == 0) {\n            var isgoto = false;\n            if (_child.nodeType != 3) {\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = NsubTree[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var _c = _step3.value;\n\n                        if (domApi.isSame(_c.ele, _child)) {\n                            OsubTree.push(_child);\n                            isgoto = true;\n                            break;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n            }\n            if (isgoto) continue;\n            Ochi.push(_child);\n        } else {\n            OsubTree.push(_child);\n        }\n    }\n\n    var plan = lcsDomArr(Nchi, Ochi, oldTree);\n\n    if (plan.length != 0) {\n        planArr.push.apply(planArr, plan);\n    }\n    for (var ni in NsubTree) {\n        var ntree = NsubTree[ni].ele;\n        for (var oi in OsubTree) {\n            var otree = OsubTree[oi];\n            if (isSameTree(ntree, otree)) {\n                if (planArr.length != 0) {\n                    planArr.push.apply(planArr, lcsDomtree(ntree.childNodes, otree));\n                } else {\n                    planArr = lcsDomtree(ntree.childNodes, otree);\n                }\n                delete NsubTree[ni];\n                delete OsubTree[oi];\n                break;\n            }\n        }\n    }\n    for (var _ni in NsubTree) {\n        if (NsubTree[_ni]) {\n            if (NsubTree[_ni].ele.nodeType == 3 && NsubTree[_ni].ele.textContent.trim().replace(/\\n/g, \"\") == \"\") continue;\n            planArr.push({\n                option: \"add\",\n                before: NsubTree[_ni].before,\n                after: NsubTree[_ni].after,\n                ele: NsubTree[_ni].ele,\n                upper: oldTree\n            });\n        }\n    }\n    for (var _ni2 in OsubTree) {\n        if (OsubTree[_ni2]) {\n            planArr.push({\n                option: \"delete\",\n                ele: OsubTree[_ni2]\n            });\n        }\n    }\n\n    return planArr;\n};\n\nvar patch = function patch(plan) {\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n        for (var _iterator4 = plan[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var ch = _step4.value;\n\n            if (ch.option == \"add\") {\n                if (ch.after != undefined) {\n                    domApi.insertBefore(ch.ele, ch.after);\n                } else if (ch.before != undefined) {\n                    domApi.insertAfter(ch.ele, ch.before);\n                } else {\n                    domApi.append(ch.ele, ch.upper);\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                _iterator4.return();\n            }\n        } finally {\n            if (_didIteratorError4) {\n                throw _iteratorError4;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n        for (var _iterator5 = plan[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var _ch = _step5.value;\n\n            if (_ch.option == \"delete\") {\n                domApi.remove(_ch.ele);\n            }\n        }\n    } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                _iterator5.return();\n            }\n        } finally {\n            if (_didIteratorError5) {\n                throw _iteratorError5;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n        for (var _iterator6 = plan[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var _ch2 = _step6.value;\n\n            if (_ch2.option == \"classChange\") {\n                _ch2.ele.classList = _ch2.list;\n            }\n        }\n    } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                _iterator6.return();\n            }\n        } finally {\n            if (_didIteratorError6) {\n                throw _iteratorError6;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n\n    try {\n        for (var _iterator7 = plan[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var _ch3 = _step7.value;\n\n            if (_ch3.option == \"attributesChange\") {\n                _ch3.ele.outerHTML = _ch3.to.outerHTML;\n            }\n        }\n    } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                _iterator7.return();\n            }\n        } finally {\n            if (_didIteratorError7) {\n                throw _iteratorError7;\n            }\n        }\n    }\n};\n\nvar diff = function diff(targetDom, newHtml) {\n    var newTreeChilds = domApi.createDomTree(newHtml);\n    var patchArr = lcsDomtree(newTreeChilds, targetDom);\n    patch(patchArr);\n};\n\nmodule.exports = diff;\n\n//# sourceURL=webpack:///./src/core/diff.js?");

/***/ }),

/***/ "./src/core/event.js":
/*!***************************!*\
  !*** ./src/core/event.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __webpack_require__(/*! ../util/util */ \"./src/util/util.js\"),\n    ev_supList = _require.ev_supList;\n\nvar isFunction = function isFunction(obj) {\n    return typeof obj == \"function\";\n};\n\nvar EventObj = function () {\n    function EventObj() {\n        _classCallCheck(this, EventObj);\n\n        this.subscribe = {};\n    }\n\n    _createClass(EventObj, [{\n        key: \"on\",\n        value: function on(channel, fn) {\n            var old = this.subscribe[channel];\n            this.subscribe[channel] = function (_args) {\n                if (isFunction(old)) {\n                    old(_args);\n                }\n                fn(_args);\n            };\n        }\n    }, {\n        key: \"emit\",\n        value: function emit(channel, _args) {\n            if (this.subscribe[channel] !== undefined) {\n                if (isFunction(this.subscribe[channel])) {\n                    this.subscribe[channel](_args);\n                }\n            }\n        }\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            this.subscribe = {};\n        }\n    }]);\n\n    return EventObj;\n}();\n\nvar EventObjForEle = function (_EventObj) {\n    _inherits(EventObjForEle, _EventObj);\n\n    function EventObjForEle(ele) {\n        _classCallCheck(this, EventObjForEle);\n\n        var _this = _possibleConstructorReturn(this, (EventObjForEle.__proto__ || Object.getPrototypeOf(EventObjForEle)).call(this));\n\n        _this.el = ele;\n        _this.__init_nativeEv();\n        return _this;\n    }\n\n    _createClass(EventObjForEle, [{\n        key: \"__init_nativeEv\",\n        value: function __init_nativeEv() {\n            var _this2 = this;\n\n            ev_supList.forEach(function (val, index) {\n                _this2.el.addEventListener(val, function (e) {\n                    _this2.emit(val, e);\n                });\n            });\n        }\n        // addEventListener(evName,ele,fn){\n        //     this.el.addEventListener(evName, e => {\n        //         if(e.target==ele){\n        //             fn()\n        //         }\n        //     })\n        // }\n\n    }]);\n\n    return EventObjForEle;\n}(EventObj);\n\nmodule.exports = EventObjForEle;\n\n//# sourceURL=webpack:///./src/core/event.js?");

/***/ }),

/***/ "./src/core/template.js":
/*!******************************!*\
  !*** ./src/core/template.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar JsVm = __webpack_require__(/*! ../util/JsVm.js */ \"./src/util/JsVm.js\");\n\nvar _require = __webpack_require__(/*! ../util/util.js */ \"./src/util/util.js\"),\n    deepClone = _require.deepClone;\n\nvar evIdSuffix = \"event-id\";\n\nvar randHash = function randHash(H_length) {\n    H_length = H_length || 10;\n    var res = \"\",\n        $chars = \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\",\n        maxPos = $chars.length;\n    for (var i = 0; i < H_length; i++) {\n        res += $chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n    return res;\n};\n\nvar TemplateEngine = function () {\n    function TemplateEngine(html, preMark, tailMark) {\n        _classCallCheck(this, TemplateEngine);\n\n        this.tpl_events = {\n            on: [],\n            bind: []\n        };\n        html = this.prehtml(html);\n        var fixRegKeyWord = function fixRegKeyWord(str) {\n            return str === undefined ? null : str.replace(/([$|{|}|(|)|.|\\\\|*|+|?|^|\\||\\[|\\]])/g, \"\\\\$1\");\n        };\n        preMark = fixRegKeyWord(preMark) || \"<%\";\n        tailMark = fixRegKeyWord(tailMark) || \"%>\";\n        var re = new RegExp(preMark + \"(.+?)\" + tailMark, \"g\"),\n            reExp = /(^( )?(var|let|if|for|else|switch|case|default|break|{|}|;))(.+)?/g,\n            cursor = 0,\n            code = 'var r=[];\\n',\n            match = void 0;\n        var add = function add(line, js) {\n            js ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n            return add;\n        };\n        while (match = re.exec(html)) {\n            add(html.slice(cursor, match.index))(match[1], true);\n            cursor = match.index + match[0].length;\n        }\n        add(html.substr(cursor, html.length - cursor));\n        this.code = (code + 'return r.join(\"\");').replace(/[\\r\\t\\n]/g, ' ');\n\n        // joint for bind\n        // this.prehtml(this.joint({}))\n    }\n\n    _createClass(TemplateEngine, [{\n        key: \"prehtml\",\n        value: function prehtml(html) {\n            // afterJoint(html) {\n            var insert_item = function insert_item(str, item, index) {\n                var newstr = \"\"; //初始化一个空字符串\n                var tmp = str.substring(0, index);\n                var estr = str.substring(index, str.length);\n                newstr += tmp + item + estr;\n                return newstr;\n            };\n            var repRegArr = function repRegArr(text, s_reg, repStr) {\n                text = text.replace(s_reg, \"\");\n                return insert_item(text, repStr, text.indexOf(\">\"));\n            };\n            var rep_non_print = function rep_non_print(text) {\n                return text.replace(\"\\n\", \"\\\\n\").replace(\"\\t\", \"\\\\t\").replace(\"\\f\", \"\\\\f\").replace(\"\\v\", \"\\\\v\").replace(\"\\r\", \"\\\\r\");\n            };\n            var pushEventTo = function pushEventTo(arr, option_html, hash_id) {\n                var eReg = / (bind|on|model):(.+?)=(\\\\?('|\")([\\s\\S]+?)\\\\?\\4)/g;\n                var _option = eReg.exec(option_html);\n                arr[_option[1]].push({\n                    id: hash_id,\n                    eventName: _option[2],\n                    codeStr: rep_non_print(_option[5])\n                });\n            };\n            var tagReg = /<[\\s\\S]+?>/g;\n            var eventReg = / (bind|on|model):(.+?)=(\\\\?('|\")([\\s\\S]+?)\\\\?\\4)/g;\n            var tagArr = html.match(tagReg);\n            var textArr = html.split(tagReg);\n            for (var i = 0; i < tagArr.length; i++) {\n                var attributes = tagArr[i].match(eventReg);\n                if (attributes) {\n                    var hash_id = randHash();\n                    if (attributes.length > 1) {\n                        for (var j = 0; j < attributes.length; j++) {\n                            pushEventTo(this.tpl_events, attributes[j], hash_id);\n                        }\n                    } else if (attributes.length === 1) {\n                        pushEventTo(this.tpl_events, attributes[0], hash_id);\n                    }\n                    tagArr[i] = repRegArr(tagArr[i], eventReg, \" data-\" + evIdSuffix + \"='\" + hash_id + \"'\");\n                }\n            }\n            var newHeml = textArr[0];\n            for (var _i = 0; _i < tagArr.length; _i++) {\n                newHeml += tagArr[_i];\n                newHeml += textArr[_i + 1] ? textArr[_i + 1] : \"\";\n            }\n            return newHeml;\n        }\n    }, {\n        key: \"joint\",\n        value: function joint(options) {\n            var result = void 0;\n            // result = new Function('obj', \"with(obj){\"+this.code+\"}\").apply(options, [options]);\n            result = JsVm.safe(this.code, options);\n            // result = JsVm.vm(this.code, deepClone(options));\n            return result;\n        }\n    }]);\n\n    return TemplateEngine;\n}();\n\nmodule.exports = TemplateEngine;\n\n//# sourceURL=webpack:///./src/core/template.js?");

/***/ }),

/***/ "./src/entry.js":
/*!**********************!*\
  !*** ./src/entry.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Poi = __webpack_require__(/*! ./core/Poi */ \"./src/core/Poi.js\");\nvar EventObj = __webpack_require__(/*! ./core/event */ \"./src/core/event.js\");\nvar TplEng = __webpack_require__(/*! ./core/template */ \"./src/core/template.js\");\nvar Jsvm = __webpack_require__(/*! ./util/JsVm */ \"./src/util/JsVm.js\");\n\nPoi.__TEST__ = {\n    ev: function () {\n        var evobj = new EventObj(document);\n        evobj.on(\"__TEST__\", function () {\n            console.log(\"event manger is working!\");\n        });\n        return evobj;\n    }(),\n    tpl: function tpl(_t, _d) {\n        return new TplEng(_t).joint(_d || {});\n    },\n    vm: Jsvm\n};\nwindow.Poi = Poi;\n\nvar usage = function usage() {\n    if (console) {\n        var msg = \"\\n        thx for u using!!!!poi~\\n\\n        now,poi is working!\\n        you can use the following instructions to do a few simple tests of functional integrity:\\n\\n        >> Poi.__TEST__.tpl(\\\"<% console.log('getcha') %>\\\",{console:console})\\n        >> Poi.__TEST__.ev.emit(\\\"__TEST__\\\")\\n        >> Poi.__TEST__.vm.safe(\\\"console.log(msg)\\\",{msg:\\\"yahoo!\\\"})\\n        \";\n        console.log(msg);\n    }\n};\nusage();\n\n//# sourceURL=webpack:///./src/entry.js?");

/***/ }),

/***/ "./src/util/JsVm.js":
/*!**************************!*\
  !*** ./src/util/JsVm.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar extend = function extend(o, n) {\n    for (var p in n) {\n        if (n.hasOwnProperty(p) && !o.hasOwnProperty(p)) o[p] = n[p];\n    }\n};\nvar JSvm = function JSvm(code, sandbox) {\n    var rep_non_print = function rep_non_print(text) {\n        return text.replace(\"\\n\", \"\\\\n\").replace(\"\\t\", \"\\\\t\").replace(\"\\f\", \"\\\\f\").replace(\"\\v\", \"\\\\v\").replace(\"\\r\", \"\\\\r\");\n    };\n    sandbox = sandbox || {};\n    var fn = new Function('sandbox', \"with(sandbox){\" + rep_non_print(code) + \"}\");\n    var _proxy = new Proxy(sandbox, {\n        has: function has(target, key) {\n            return true;\n        }\n    });\n    return fn(_proxy);\n};\nvar multiCode2Tuple = function multiCode2Tuple(code) {\n    return code.replace(/(^|;)return /g, \"\").replace(/([\"'])(.+?)(;)(.+?)\\1/g, \"$1$2$3#$4$1\").split(/;(?!#)/g).join(\",\").replace(\";#\", \";\");\n};\n\nvar VmError = function (_Error) {\n    _inherits(VmError, _Error);\n\n    function VmError(message) {\n        _classCallCheck(this, VmError);\n\n        var _this = _possibleConstructorReturn(this, (VmError.__proto__ || Object.getPrototypeOf(VmError)).call(this));\n\n        Error.captureStackTrace(_this, _this.constructor);\n        _this.message = message || 'Undefined error';\n        _this.name = 'VmError';\n        return _this;\n    }\n\n    return VmError;\n}(Error);\n\nvar JSafeVmWithBlackList = function JSafeVmWithBlackList(code, sandbox, mixBlack) {\n    var blacklist = [\"eval\", \"Function\"];\n    mixBlack = mixBlack ? mixBlack.push.apply(mixBlack, blacklist) : blacklist;\n    var rep_non_print = function rep_non_print(text) {\n        return text.replace(\"\\n\", \"\\\\n\").replace(\"\\t\", \"\\\\t\").replace(\"\\f\", \"\\\\f\").replace(\"\\v\", \"\\\\v\").replace(\"\\r\", \"\\\\r\");\n    };\n    sandbox = sandbox || {};\n    var fn = new Function('sandbox', \"with(sandbox){\" + rep_non_print(code) + \"}\");\n    var _proxy = new Proxy(sandbox, {\n        has: function has(target, key) {\n            if (mixBlack.indexOf(key) != -1) {\n                return true;\n            }\n            return key in target;\n        }\n    });\n    return fn(_proxy);\n};\n//\n// let safeSandBox = {\n//     console: window.console,\n//     alert: msg => {\n//         window.alert(msg)\n//     },\n//     debugger: window.debugger,\n//     Error: VmError,\n//     Math: Math\n// };\n// let JSafeVm = (code, data) => {\n//     data = data || {};\n//     try {\n//         code = \"try{return (\" + multiCode2Tuple(code) + \")}catch(err){}\";\n//     } catch (e) {\n//         console.error(e)\n//     }\n//     data = Object.assign(data, safeSandBox);\n//     return JSvm(code, data);\n// };\nvar micVm = function micVm(code, data) {\n    var result = void 0;\n    // try {\n    result = new Function('obj', \"with(obj){\" + code + \"}\").apply(data, [data]);\n    // } catch (err) {\n    //     console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code.replace(/;/g, \";\\n\").replace(/({|})/g, \"$1\\n\"));\n    // }\n    return result;\n};\n\nmodule.exports = {\n    safe: JSafeVmWithBlackList,\n    vm: JSvm,\n    micVm: micVm\n};\n\n//# sourceURL=webpack:///./src/util/JsVm.js?");

/***/ }),

/***/ "./src/util/util.js":
/*!**************************!*\
  !*** ./src/util/util.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction getType(obj) {\n    //tostring会返回对应不同的标签的构造函数\n    var toString = Object.prototype.toString;\n    var map = {\n        '[object Boolean]': 'boolean',\n        '[object Number]': 'number',\n        '[object String]': 'string',\n        '[object Function]': 'function',\n        '[object Array]': 'array',\n        '[object Date]': 'date',\n        '[object RegExp]': 'regExp',\n        '[object Undefined]': 'undefined',\n        '[object Null]': 'null',\n        '[object Object]': 'object'\n    };\n    if (obj instanceof Element) {\n        return 'element';\n    }\n    return map[toString.call(obj)];\n}\n\nfunction deepClone(data) {\n    var type = getType(data);\n    var obj;\n    if (type === 'array') {\n        obj = [];\n    } else if (type === 'object') {\n        obj = {};\n    } else {\n        //不再具有下一层次\n        return data;\n    }\n    if (type === 'array') {\n        for (var i = 0, len = data.length; i < len; i++) {\n            obj.push(deepClone(data[i]));\n        }\n    } else if (type === 'object') {\n        for (var key in data) {\n            obj[key] = deepClone(data[key]);\n        }\n    }\n    return obj;\n}\n\nvar extend = function extend(o, n) {\n    for (var p in n) {\n        if (n.hasOwnProperty(p) && !o.hasOwnProperty(p)) o[p] = n[p];\n    }\n};\n\nvar arrMerge = function arrMerge(a, b) {\n    a.push.apply(a, b);\n};\n\nvar support_list = [\"resize\", \"load\", \"click\", \"dblclick\", \"change\", \"blur\", \"focus\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"select\", \"keypress\"];\n\nvar GetAttrElement = function GetAttrElement(attr, val) {\n    var e = document.all;\n    var a = new Array();\n    for (var i = 0; i < e.length; i++) {\n        if (e[i].getAttribute(attr) == val) {\n            a.push(e[i]);\n        }\n    }\n    return a;\n};\n\nvar arrDiffer = function arrDiffer(a, b) {\n    // if the other array is a falsy value, return\n    if (!a || !b) return false;\n    // compare lengths - can save a lot of time\n    if (a.length != b.length) return false;\n    var isIn = function isIn(arr1, arr2) {\n        for (var i in arr1) {\n            var nullInOther = true;\n            for (var j in arr2) {\n                if (arr1[i] == arr2[j]) {\n                    nullInOther = false;\n                }\n            }\n            if (nullInOther) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return isIn(a, b) && isIn(b, a);\n};\n\nvar domApi = {\n    $: function $(_selector) {\n        var ele = document.querySelector(_selector);\n        ele.html = function (_newHtml) {\n            if (this.empty) {\n                return '';\n            }\n            if (!_newHtml) {\n                return this.innerHTML;\n            } else {\n                this.innerHTML = _newHtml;\n                return _newHtml;\n            }\n        };\n        return ele;\n    },\n    createDom: function createDom(_html) {\n        var tempRoot = document.createElement(\"div\");\n        tempRoot.innerHTML = _html;\n        return tempRoot.children[0];\n    },\n    createDomTree: function createDomTree(_html) {\n        var tempRoot = document.createElement(\"div\");\n        tempRoot.innerHTML = _html;\n        return tempRoot.childNodes;\n    },\n    append: function append(newElement, targetElement) {\n        newElement = (typeof newElement === 'undefined' ? 'undefined' : _typeof(newElement)) == _typeof(\"\") ? domApi.createDom(newElement) : newElement;\n        return targetElement.appendChild(newElement);\n    },\n    insertBefore: function insertBefore(newElement, targetElement) {\n        var parent = targetElement.parentNode;\n        newElement = (typeof newElement === 'undefined' ? 'undefined' : _typeof(newElement)) == _typeof(\"\") ? domApi.createDom(newElement) : newElement;\n        return parent.insertBefore(newElement, targetElement);\n    },\n    insertAfter: function insertAfter(newElement, targetElement) {\n        var parent = targetElement.parentNode;\n        if (parent.lastChild == targetElement) {\n            parent.appendChild(newElement);\n        } else {\n            parent.insertBefore(newElement, targetElement.nextSibling);\n        }\n    },\n    remove: function remove(targetElement) {\n        if (targetElement == undefined) return;\n        var parent = targetElement.parentNode;\n        if (parent == undefined) {\n            targetElement = null;\n            return;\n        }\n        parent.removeChild(targetElement);\n    },\n    isSame: function isSame(ele1, ele2) {\n        if (ele1 == undefined || ele2 == undefined) return false;\n        if (ele1.nodeType != ele2.nodeType) return false;\n        if (ele1.nodeType == 1) {\n            // node\n            return ele1.nodeName == ele2.nodeName && ele1.id == ele2.id && ele1.innerText.trim() == ele2.innerText.trim()\n            // && ele1.className == ele2.className\n            ;\n        }\n        if (ele1.nodeType == 3) {\n            // text node\n            return (\n                // domApi.isSame(ele1.parentNode, ele2.parentNode) &&\n                ele1.textContent == ele2.textContent\n            );\n        }\n    },\n    classListDiff: function classListDiff(ele1, ele2) {\n        if (ele1.classList.length != ele2.classList.length) {\n            return false;\n        }\n        var cList2Arr = function cList2Arr(ele) {\n            var res = [];\n            ele.classList.forEach(function (val) {\n                res.push(val);\n            });\n            return res;\n        };\n        return arrDiffer(cList2Arr(ele1), cList2Arr(ele2));\n    },\n    attributesDiff: function attributesDiff(ele1, ele2) {\n        if (ele1.attributes.length != ele2.attributes.length) {\n            return false;\n        }\n        var attributes2Arr = function attributes2Arr(ele) {\n            var res = [];\n            var tempCur = 0;\n            while (true) {\n                if (ele.attributes[tempCur]) {\n                    if (ele.attributes[tempCur].name == \"class\") {\n                        tempCur += 1;\n                        continue;\n                    }\n                    res.push(ele.attributes[tempCur].nodeValue);\n                } else {\n                    break;\n                }\n                tempCur += 1;\n            }\n            return res;\n        };\n        return arrDiffer(attributes2Arr(ele1), attributes2Arr(ele2));\n    },\n    Comparable: function Comparable(ele1, ele2) {\n        if (ele1 == undefined || ele2 == undefined) return false;\n        if (ele1.nodeType != ele2.nodeType) return false;\n        if (ele1.nodeType == 3) return true;\n        return ele1.nodeName == ele2.nodeName && ele1.id == ele2.id && ele1.className == ele2.className;\n    }\n};\n\nmodule.exports = {\n    deepClone: deepClone,\n    extend: extend,\n    arrMerge: arrMerge,\n    ev_supList: support_list,\n    GetAttrElement: GetAttrElement,\n    domApi: domApi\n};\n\n//# sourceURL=webpack:///./src/util/util.js?");

/***/ })

/******/ });
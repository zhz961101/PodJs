<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Poi!Poi! - Mvvm 前端框架</title>
    <link href="https://cdn.bootcss.com/highlight.js/9.11.0/styles/atom-one-dark.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/guide.css">
    <link rel="stylesheet" href="assets/css/ca.css">

</head>

<body>
    <div class="progress">
        <div id="topprogress">#</div>
    </div>
    <header id="header">
        <nav>
            <a href="../index_cn.html">首页</a>
            <a href="https://github.com/zhzLuke96/PoiJs">Github</a>
        </nav>
    </header>
    <div id="content">
        <div class="leftNav">
            <h1>教程</h1>
            <hr>
            <h3>快速开始</h3>
            <ul>
                <!-- <li class="checked"> -->
                <li>
                    <a href="#介绍">介绍</a>
                </li>
                <li>
                    <h4>
                        实例
                    </h4>
                    <ul>
                        <h4><a href="#todo">todo-List</a></h4>
                        <li>
                            <a href="#todo-1">流程</a>
                        </li>
                        <li>
                            <a href="#todo-2">数据</a>
                        </li>
                        <li>
                            <a href="#todo-3">模板</a>
                        </li>
                        <li>
                            <a href="#todo-4">运行</a>
                        </li>
                    </ul>
                    <ul>
                        <h4><a href="#元胞">元胞自动机</a></h4>
                        <li>
                            <a href="#元胞-1">流程</a>
                        </li>
                        <li>
                            <a href="#元胞-2">数据</a>
                        </li>
                        <li>
                            <a href="#元胞-3">模板</a>
                        </li>
                        <li>
                            <a href="#元胞-4">运行</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <h3>
                <a href="#内核">内核简析</a>
            </h3>
            <ul>
                <li>
                    <a href="#内核-1">模板引擎</a>
                </li>
                <li>
                    <a href="#内核-2">get&set</a>
                </li>
                <li>
                    <a href="#内核-3">事件驱动</a>
                </li>
                <li>
                    <a href="#内核-4">Diff</a>
                </li>
            </ul>
            <h3>更多</h3>
            <ul>
                <li>
                    <a href="#更多-1">联系我们</a>
                </li>
            </ul>
        </div>
        <div id="guideView">
            <h2><span class="anchor" id="介绍">#</span>介绍</h2>
            <div class="row">
                <h4><span class="anchor">#</span>PoiJs做了些什么？</h4>
                <hr>
                <p>Poi 是一套简化DOM操作的前端框架。与其它大型框架不同的是，Poi 核心思想是“大道至简”，它被设计成了一个在很小的内存空间内增加移植性，提供模块化设计，以使用户实现自己的组件。终极目标是使前端达到微内核之于操作系统的关系。</p>
                <p>（接下来可能会调查与webpack运用实现SPA的可能）</p>
                <p>如果你<span class="string">前端大佬</span>，那么你也许想知道 Poi 的核心实现有什么特别的地方，请查看内核简析。</p>
            </div>
            <h2><span class="anchor">#</span>实例</h2>
            <div class="row">
                <h4><span class="anchor" id="todo">#</span>Todo List</h4>
                <hr>
                <p>当你每天需要整理很多日程安排的时候，一个好使的todo应用是很实用的！那么，为什么不自己写一个呢？</p>
                <h5><span class="anchor" id="todo-1">#</span>流程</h5>
                <p>对于todoList应用来说，流程是显而易见的。向表中<span class="keyword">添加（add）日程</span>以及<span class="keyword">标记完成（toggle state）</span>。</p>
                <h5><span class="anchor" id="todo-2">#</span>数据</h5>
                <pre>
                    <span class="CodeTag">JS</span>
                    <code class="javascript">
Poi({
    //...
    data:{
        todos: [],
        inputText: "",
        add: function(){
            this.todos.push({
                state: true,
                content: this.inputText
            })
        },
        toggle: function(index){
            this.todos[index].state =! this.todos[index].state
        }
    }
    //...
})</code>
                </pre>
                <h5><span class="anchor" id="todo-3">#</span>模板</h5>
                <pre>
                    <span class="CodeTag">Html</span>
                    <code class="html">
&lt;input type="text" bind:value="inputText" on:keyup="inputText=self.value"&gt;
&lt;button type="button" name="button" on:click="add()" &gt;add&lt;/button&gt;
&lt;ul&gt;
    {{ for(index in todos){ }}
        &lt;li class= "{{ todos[index].state?"ok":"continue" }}" on:click="toggle({{ index }})"&gt;
            {{ todos[index].content }}
        &lt;/li&gt;
    {{ } }}
&lt;/ul&gt;</code>
                </pre>
                <h5><span class="anchor" id="todo-4">#</span>运行</h5>
                <div id="app1" class="appBox"></div>
            </div>
            <div class="row">
                <h4><span class="anchor" id="元胞">#</span>元胞自动机 （AC）</h4>
                <hr>
                <p>不知道大家有没有玩过<span class="keyword">沙盒</span>（sandbox），不论是开放世界（video game）还是乐高玩具，其由简化繁的将离散的意象组织成有序时空的演化过程拥有独一无二的吸引力，尤其是对于好奇心旺盛的我。</p>
                <p>下面我们将一起使用<span class="keyword">PoiJs</span>实现一个最简单的沙盒游戏，试探试探“一花一世界”的禅意</p>
                <h5><span class="anchor" id="元胞-1">#</span>流程</h5>
                <p><span class="string">元胞自动机听</span>起来很复杂，简单说就是一个带有社会规则二维（当然甚至是零维都是可以的）时空，属于一种用来模拟混沌的动力学模型。</p>
                <p>（介于dom层性能的问题，如果使用canvas会是一个更好的选择，不过，那样的话Poi并不能发挥多大作用）</p>
                <p>AC的规则有很多种，这里我们选择了经典的<span class="string">B3/S23</span>，当然通过适当的补充，我们的Poi实例能复现更多的规则。</p>
                <p>B3/S23:周围有3个活细胞时<span class="string">born(重生)</span>,周围有2或3个活细胞时<span class="string">survive(保持原状态)</span>,其余情况均dead(消亡)。</p>
                <h5><span class="anchor" id="元胞-2">#</span>数据</h5>
                <pre>
                    <span class="CodeTag">JS</span>
                    <code class="javascript">
Poi({
    //...
    data:{
        // ...
        states: [],
        next: function(){
            // ...
            // init
            // ...
            let isSurvival = (state, Neighbours) => {
                let saveCount = 0;
                for (cell_state of Neighbours) {
                    saveCount += cell_state;
                }
                if (state == 1) {
                    if (saveCount < 2) {
                        return false
                    }
                    if (saveCount > 3) {
                        return false
                    }
                    return true
                } else {
                    if (saveCount == 3) {
                        return true
                    } else {
                        return false
                    }
                }
            }
            let getNearArr = (rows, celli) => {
                // ...
            }
            let tempStates = []
            for (let rowi in this.states) {
                let row = this.states[rowi]
                let t_rows = []
                for (let celli in row) {
                    let cell = row[celli]
                    t_rows.push(isSurvival(cell, getNearArr(parseInt(rowi), parseInt(celli)))?1:0)
                }
                tempStates.push(t_rows)
            }
            this.states = tempStates
        }
        // ...
    }
    //...
})</code>
                </pre>
                <p><small>(这里有个小细节，我们并没有直接更改<span class="string">states</span>数组，而是在最后<span class="keyword">this.states = tempStates</span>，其中一个原因是get&set机制，不过，若是你尝试直接修改其实是可以看到渲染的，详细内容会在<span class="string">内核简析</span>中细讲)</small></p>
                <h5><span class="anchor" id="元胞-3">#</span>模板</h5>
                <pre>
                    <span class="CodeTag">Html</span>
                    <code class="html">
&lt;button type="button" name="button" on:click="random(true)"&gt;random&lt;/button&gt;
&lt;button type="button" name="button" on:click="next()"&gt;Next step&lt;/button&gt;
&lt;hr&gt;
&lt;div class="container"&gt;
    {{ for(let i = 0;i&lt;states.length ;i++){ }}
        {{ for(let j = 0;j&lt;states[0].length ;j++){ }}
            &lt;div class=
            {{ states[i][j]?'"item live"':'"item"'}}
            &gt;&lt;/div&gt;
        {{ } }}
    {{ } }}
&lt;/div&gt;
&lt;hr&gt;</code>
                </pre>
                <h5><span class="anchor" id="元胞-4">#</span>运行</h5>
                <div id="app2" class="appBox"></div>
            </div>
            <h2><span class="anchor" id="内核">#</span>内核简析</h2>
            <div class="row">
                <h4><span class="anchor" id="内核-1">#</span>模板引擎</h4>
                <hr>
                <p>敬请期待...</p>
            </div>
            <div class="row">
                <h4><span class="anchor" id="内核-2">#</span>get&set</h4>
                <hr>
                <p>敬请期待...</p>
            </div>
            <div class="row">
                <h4><span class="anchor" id="内核-3">#</span>事件驱动</h4>
                <hr>
                <p>敬请期待...</p>
            </div>
            <div class="row">
                <h4><span class="anchor" id="内核-4">#</span>Diff</h4>
                <hr>
                <p>敬请期待...</p>
            </div>
            <h2><span class="anchor" id="更多">#</span>更多</h2>
            <div class="row">
                <h4><span class="anchor" id="更多-1">#</span>联系我们</h4>
                <hr>
                <div class="infoCard">
                    <div id="left">
                        <img src="https://avatars1.githubusercontent.com/u/37396659" alt="">
                    </div>
                    <div id="right">
                        <p>Luke</p>
                        <dl class="">
                            <dt><i class="fa fa-globe"></i></dt>
                            <dd>
                                爱善好施。
                            </dd>
                            <dt><i class="fa fa-github"></i></dt>
                            <dd>
                                <a href="https://github.com/zhzLuke96">
                                    <span class="string">zhzLuke96</span>
                                </a>
                            </dd>
                            <dt><i class="fa fa-link"></i></dt>
                            <dd>
                                <a href="https://www.zhihu.com/people/zhzer">
                                    <span class="string">zhzLuke96</span>
                                </a>
                                <span>&ensp;- 知乎</span>
                            </dd>
                            <dt><i class="fa fa-link"></i></dt>
                            <dd>
                                <a href="#">
                                    <span class="string">Luke9527</span>
                                </a>
                                <span>&ensp;&ensp;- Blog (building)</span>
                            </dd>
                        </dl>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <footer>
        <a href="#header">Goto Top</a>
        <p>至尊微软紫</p>
        <span>Copyright ©</span><a href="https://github.com/zhzLuke96">zhzLuke96</a>
    </footer>
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/languages/javascript.min.js"></script>
    <script >hljs.initHighlightingOnLoad();</script>
    <script src="../dist/Poi.bundle.js" charset="utf-8"></script>
    <script src="assets/js/guide.js" charset="utf-8"></script>
    <script src="assets/js/ScrollNav.js" charset="utf-8"></script>
</body>

</html>
